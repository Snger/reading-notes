#!/usr/bin/env python2
# vim:fileencoding=utf-8
from __future__ import unicode_literals, division, absolute_import, print_function
from calibre.web.feeds.news import BasicNewsRecipe

class NHibernate_Reference_Documentation(BasicNewsRecipe):
    title          = 'NHibernate Reference Documentation'
    oldest_article = 7
    max_articles_per_feed = 100
    auto_cleanup   = True

    
    description = 'NHibernate Reference Documentation'
    cover_url = 'http://nhibernate.info/images/NHLogoSmall.gif'
    url_pre = 'http://nhibernate.info/doc/nh/en/index.html'
    no_stylesheets = True

    def parse_index(self):
        soup = self.index_to_soup(self.url_pre)

        div = soup.find('dl')

        articles = []
        for link in div.findAll('a'):
            til = link.contents[0].strip()
            url = self.url_pre + link['href']
            a = { 'title': til, 'url': url }

            articles.append(a)

        results = [('NHibernate Reference Documentation', articles)]

        return results